<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ุงูุฎููุฉ โ ุฑุญูุฉ ุฌูููุฉ ูุน ูุชุงุจู</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<link rel="manifest" href="manifest.json">
<link rel="icon" href="icon.svg">
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="app">
  <div class="header">
    <div class="title">ุฎููุฉ</div>
    <div class="subtitle">ุฑุญูุฉ ุฌูููุฉ ูุน ูุชุงุจู</div>
  </div>

  <div id="home" class="card">
    <p class="small center">ุงุฎุชุฑ ูุฆุชู:</p>
    <button class="btn" onclick="showPanel('admin')">๐ด admin</button>
<button class="btn" onclick="showPanel('teacher')">๐ต ุฎุงุฏู</button>
<button class="btn" onclick="showPanel('child')">๐ข ุงูุฃุจุทุงู ๐ช๐</button>
    <button id="leaderBtn" class="btn btn-secondary" style="margin-top:10px">๐ ููุญุฉ ุงูุดุฑู</button>
    <div class="small center muted" style="margin-top:8px">ุตููู: CLASS1 .. CLASS6</div>
  </div>

  <div id="mainInfo" class="card" style="display:none"><div id="todayTitle" class="title"></div><div id="kholwaTimer" class="timer"></div></div>

  <!-- ADMIN -->
  <div id="admin" class="card" style="display:none">
    <h3 class="center">ุงููุณุคูู</h3>
    <div id="adminLoginBox">
      <label>ูููุฉ ูุฑูุฑ ุงููุณุคูู:</label>
      <input id="adminPass" class="input" type="password" placeholder="ุงุฏุฎู ูููุฉ ุงููุฑูุฑ">
      <div style="display:flex;gap:8px">
        <button class="btn" onclick="adminLogin()">ุฏุฎูู</button>
        <button class="btn btn-secondary" onclick="goHome()">ุนูุฏุฉ</button>
      </div>
    </div>

    <div id="adminPanel" style="display:none">
      <h4>ุฅุถุงูุฉ ุฎููุฉ ุฌุฏูุฏุฉ</h4>
      <label>ุนููุงู ุงูุฎููุฉ:</label><input id="kTitle" class="input" placeholder="ุนููุงู (ุงุฎุชูุงุฑู)">
      <label>ุชุงุฑูุฎ ุงูุนุฑุถ:</label><input id="kDate" class="input" type="date" value="">
      <label>ูุต ุงูุฎููุฉ (ุงุฎุชูุงุฑู):</label><textarea id="kText" class="input" rows="3"></textarea>
      <label>ุฃู ุฑูุน ุตูุฑุฉ / PDF ูู ุงููุงููุฑุง ุฃู ุงูุฌูุงุฒ:</label><input id="kFile" class="input" type="file" accept="image/*,application/pdf" capture="camera">
      <hr>
      <h4>ุณุคุงู ุงูุฎููุฉ (3 ุงุฎุชูุงุฑุงุช)</h4>
      <label>ูุต ุงูุณุคุงู:</label><input id="qText" class="input">
      <label>ุงูุฎูุงุฑ 1:</label><input id="q1" class="input">
      <label>ุงูุฎูุงุฑ 2:</label><input id="q2" class="input">
      <label>ุงูุฎูุงุฑ 3:</label><input id="q3" class="input">
      <label>ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ (ุฑูู):</label><select id="qCorrect" class="input"><option value="0">1</option><option value="1">2</option><option value="2">3</option></select>
      <label>ููุงุท ูุฐู ุงูุฎููุฉ (ุนูุฏ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ):</label><input id="pointsValue" class="input" type="number" value="10">
      <div style="display:flex;gap:8px;margin-top:8px">
        <button class="btn" onclick="addKholwa()">ุฅุถุงูุฉ ุงูุฎููุฉ</button>
        <button class="btn btn-secondary" onclick="previewKholwaToday()">ุนุฑุถ ุฎููุฉ ุงูููู</button>
      </div>

      <div id="publishSuccess" class="success-box" style="display:none">
        <div>ุชู ูุดุฑ ุงูุฎููุฉ ุจูุฌุงุญ ๐</div>
        <div style="margin-top:8px"><button class="btn btn-secondary" id="viewPublished">ุนุฑุถ ุงูุฎููุฉ ุงูููุดูุฑุฉ</button></div>
        <div style="margin-top:8px">
          <label>ุชุญููู/ุฑูุน ุจูุงูุงุช (data.json):</label>
          <div style="display:flex;gap:8px;margin-top:6px">
            <a id="downloadData" style="display:none" class="btn btn-secondary">ุชุญููู data.json</a>
            <input type="file" accept="application/json" onchange="uploadDataFile(this)" class="input">
          </div>
        </div>
      </div>

      <hr>
      <h4>ุงูุฎููุงุช ุงูููุถุงูุฉ</h4><div id="kList" class="note"></div>
      <hr>
      <h4>ุฅุฏุงุฑุฉ ุงูุฎุฏุงู</h4>
      <label>ุงุณู ุงูุฎุงุฏู:</label><input id="tuser" class="input">
      <label>ูููุฉ ุงููุฑูุฑ ููุฎุงุฏู:</label><input id="tpass" class="input" value="servant123" type="text">
      <label>ุงุฎุชุฑ ูุตู ููุฎุงุฏู:</label><select id="tclass" class="input"><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option></select>
      <button class="btn" onclick="createTeacher()">ุฅูุดุงุก ุฎุงุฏู</button>
      <hr>
      <h4>ุฅุนุฏุงุฏุงุช ุนุงูุฉ</h4>
      <label>ูููุฉ ุงูููุงุท ุงูุงูุชุฑุงุถูุฉ ููู ุฎููุฉ:</label><input id="pointsValueGlobal" class="input" type="number" value="10">
      <button class="btn btn-secondary" onclick="setDefaultPoints()">ุญูุธ ุงูุฅุนุฏุงุฏุงุช</button>
      <hr>
      <h4>ุงูุฃูุงู ุงูุณุงุจูุฉ</h4><div id="historyList" class="note"></div>
      <hr>
      <h4>ุงูุชูุงุฑูุฑ</h4><div id="reportArea" class="note"></div>
      <div style="display:flex;gap:8px;margin-top:8px"><button class="btn btn-secondary" onclick="resetAll()">ุชุตููุฑ ุงูุจูุงูุงุช</button></div>
      <div class="back-btn" onclick="goHome()">๐ ุนูุฏู</div>
    </div>
  </div>

  <!-- TEACHER -->
  <div id="teacher" class="card" style="display:none">
    <h3 class="center">ุงูุฎุงุฏู</h3>
    <div id="teacherLoginBox">
      <label>ุงุณู ุงููุณุชุฎุฏู:</label><input id="loginUser" class="input">
      <label>ูููุฉ ุงููุฑูุฑ:</label><input id="loginPass" class="input" type="password">
      <div style="display:flex;gap:8px">
        <button class="btn" onclick="teacherLogin()">ุฏุฎูู</button>
        <button class="btn btn-secondary" onclick="goHome()">ุนูุฏุฉ</button>
      </div>
    </div>
    <div id="teacherPanel" style="display:none">
      <h4>ุทูุงุจ ุงููุตู <span id="teacherClass" class="note"></span></h4>
      <label>ุฃุถู ุฃุณูุงุก ุงูุทูุงุจ (ุงูุตู ุจูุงุตูุฉ):</label><textarea id="studentNames" class="input" rows="3"></textarea>
      <button class="btn" onclick="addStudents()">ุฅุถุงูุฉ</button>
      <div id="teacherStatus" class="note"></div>
      <div class="back-btn" onclick="goHome()">๐ ุนูุฏู</div>
    </div>
  </div>

  <!-- CHILD -->
  <div id="child" class="card" style="display:none">
    <h3 class="center">ุงูุทูู</h3>
    <div id="childEntry">
      <label>ุงูุงุณู:</label><input id="childName" class="input">
      <label>ุฑูู ุงููุตู:</label><select id="childClass" class="input"><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option></select>
      <button class="btn" onclick="enterKholwa()">ูุชุญ ุงูุฎููุฉ</button>
      <div class="small note">ูู ุธูุฑุช "ุงูุฎููุฉ ูุบููุฉ" ุชุฃูุฏ ุฃู ุงููุณุคูู ุฑูุน ููู <code>data.json</code> ุนูู ุงูุงุณุชุถุงูุฉ.</div>
    </div>
    <div id="kholwaView" style="display:none">
      <div id="childScore" class="note small"></div>
      <div id="kholwaContent" class="note"></div>
      <div id="questionArea" class="note"></div>
      <div id="choicesArea"></div>
      <div id="resultArea" class="note"></div>
      <div class="back-btn" onclick="goHome()">๐ ุนูุฏู</div>
    </div>
  </div>

  <!-- LEADERBOARD -->
  <div id="leader" class="card" style="display:none">
    <h3 class="center">ููุญุฉ ุงูุดุฑู</h3>
    <ul id="leaderList" class="leaderboard"></ul>
    <div class="back-btn" id="leaderBack">๐ ุนูุฏู</div>
  </div>

  <div class="small center muted">ุฅุนุฏุงุฏ ุฎุฏูุฉ ูุฏุงุฑุณ ุงูุฃุญุฏ</div>
</div>
<script src="script.js"></script>
</body>
</html>
